/*
************************************************************************************************************************
*                                                   CONVERTED CODE
*                                                   
*                                This code is converted from uCOS-III template code
*
************************************************************************************************************************
*/
/*
************************************************************************************************************************
*
*                                                MODULE - Data Logger
*
*                                                   STM32F407VGT6
*                                                        on
*                                              UTMRBC Mainboard v2.1.1
*
* Filename      : dtlog.h
* Version       : V1.00
* Programmer(s) : HW
************************************************************************************************************************
*/

#ifndef  MOD_DTLOG
#define  MOD_DTLOG

/*
************************************************************************************************************************
*                                                     INCLUDE FILES
************************************************************************************************************************
*/
#include  "../adapter.h"



/*
************************************************************************************************************************
*                                                     CUSTOM AREA
*                           (TODO: Please edit here, mod_dtlog.c, and also client side)
*
* Note(s)     : (1) Here need to declare the length of inserted variables in bytes. For example,
*                       3 UINT08 and 2 SINT32 and 1 FLOT64 = 3*1 + 2*4 + 1*8 = 19
************************************************************************************************************************
*/
#define DTLOG_UART     huart2

#define DTLOG_TX_RAW_LEN   32                               /* User have to manually calculate the size of total len  */

#define DTLOG_RX_RAW_LEN   16                               /* User have to manually calculatethe size of total len   */

/*
************************************************************************************************************************
*                                                   DTLOG GLOBAL MACRO
************************************************************************************************************************
*/

#define  MOD_DTLOG_INT_TX_BUFF   DTLOG_TX_RAW_LEN+4         /* length of 1 tx frame                                   */
#define  MOD_DTLOG_INT_RX_BUFF   DTLOG_RX_RAW_LEN+4         /* length of 1 rx frame                                   */

/*
************************************************************************************************************************
*                                                  DTLOG GLOBAL VARIABLE
************************************************************************************************************************
*/
uint8_t tx_pool [MOD_DTLOG_INT_TX_BUFF];
uint8_t rx_pool [MOD_DTLOG_INT_RX_BUFF];


/*
************************************************************************************************************************
*                                                     DTLOG FUNCTIONS
************************************************************************************************************************
*/

void ModTaskDtlogInit (void);

void ModTaskDtlogTx (void);
                                                            /* should pass to rx_pool using receive IT                */
void ModTaskDtlogRx (void);

#endif

